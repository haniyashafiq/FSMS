<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fire Extinguisher Report</title>
    <style>
        body { font-family: 'Times New Roman', serif; padding: 40px; color: #000; max-width: 1000px; margin: 0 auto; }
        
        /* HEADER */
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 10px; }
        .logo { height: 60px; }
        .title-block { text-align: right; }
        .title-block h1 { margin: 0; font-size: 18px; font-weight: bold; color: #2e74b5; } /* Maria Blue */
        .title-block h2 { margin: 2px 0; font-size: 14px; font-weight: normal; }
        .title-block p { margin: 2px 0; font-size: 12px; color: #666; }

        .report-meta { text-align: center; margin: 20px 0; font-weight: bold; text-transform: uppercase; border: 1px solid #000; padding: 5px; }

        /* TABLE */
        table { width: 100%; border-collapse: collapse; font-size: 11px; margin-bottom: 20px; }
        th, td { border: 1px solid #000; padding: 4px; text-align: center; }
        th { background-color: #f0f0f0; }
        
        /* LEGEND */
        .legend { font-size: 12px; margin-top: 10px; border: 1px solid #000; padding: 10px; }

        /* FOOTER */
        .footer { margin-top: 50px; display: flex; justify-content: space-between; font-size: 12px; font-weight: bold; }
        .sig-block { text-align: center; width: 40%; }
        .sig-line { border-bottom: 1px solid #000; margin-top: 40px; margin-bottom: 5px; }

        @media print {
            .no-print { display: none; }
            body { padding: 0; }
        }
    </style>
</head>
<body>

    <button class="no-print" onclick="window.print()" style="position:fixed; top:20px; right:20px; padding:10px 20px; background:blue; color:white; font-weight:bold; cursor:pointer;">Download/Print PDF</button>

    <div class="header">
        <img src="../static/logo.jpg" class="logo" alt="Maria Center">
        <div class="title-block">
            <h1>Maria Center</h1>
            <h2>Khobar, Saudi Arabia</h2>
            <p>FACILITY MANAGEMENT & SAFETY DEPARTMENT</p>
        </div>
    </div>

    <div class="report-meta">
        Fire extinguisher inspection report (MONTHLY) <br>
        Date: {{ report_date }}
    </div>

    <table>
        <thead>
            <tr>
                <th>S/N</th>
                <th>ID #</th>
                <th>Location</th>
                <th>Type</th>
                <th>Cap</th>
                <th>Nozzle</th>
                <th>Seal</th>
                <th>Body</th>
                <th>Pin</th>
                <th>Gauge</th>
                <th>Handle</th>
                <th>Last Insp</th>
                <th>Next Insp</th>
                <th>Remarks</th>
            </tr>
        </thead>
        <tbody>
            {% for fe in extinguishers %}
            <tr>
                <td>{{ loop.index }}</td>
                <td>{{ fe.fe_id }}</td>
                <td>{{ fe.location }}</td>
                <td>{{ fe.type }}</td>
                <td>{{ fe.capacity }}</td>
                <td>{{ fe.nozzle }}</td>
                <td>{{ fe.seal }}</td>
                <td>{{ fe.body }}</td>
                <td>{{ fe.pin }}</td>
                <td>{{ fe.gauge }}</td>
                <td>{{ fe.handle }}</td>
                <td>{{ fe.last_insp }}</td>
                <td>{{ fe.next_insp }}</td>
                <td>{{ fe.remarks }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <div class="legend">
        <strong>Type:</strong> DCP: Dry Chemical Powder, CO2: Carbon Dioxide <br>
        <strong>Legend:</strong> âˆš: Good Condition | X: Poor Condition (requires action) | N/A: Not Available
    </div>

    <div class="footer">
        <div class="sig-block">
            Audited by Safety Team:
            <div class="sig-line"></div>
            Muhammad Hashim
        </div>
        <div class="sig-block">
            Reported to Clinical Director:
            <div class="sig-line"></div>
            Aljoharah Alshayji
        </div>
    </div>

</body>
</html>
